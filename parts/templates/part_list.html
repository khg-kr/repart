{% extends "base.html" %}

{% load static %}

{% block title %}로얄엔필드 부품 가격 조회{% endblock %}

{% block content %}
<div class="container my-3">
    <img src="{% static 'content/service-cost.jpg' %}" alt="Service Cost" class="img-fluid">
    <h1>로얄엔필드 오리지널 부품</h1>
    <h1>권장소비자가격 조회</h1>
    <form class="form-inline my-2" method="GET" action="." >
        <input class="form-control mr-2" type="text" name="q" placeholder="검색어 2자리 이상" value="{{ query }}" required minlength="2">
        <button class="btn btn-primary" type="submit">부품검색</button>
    </form>
    <table class="table table-striped mt-3" bgcolor="lightyellow">
        <thead>
            <tr class="thead-dark">
                <th>부품분류</th>
                <th>부품코드</th>
                <th>부품명</th>
                <th> 권장소비자가격<br />(부가세별도)</th>
            </tr>
        </thead>
        <tbody>
            {% for part in page_obj %}
            <tr>
                <td>{{ part.category_code }}</td>
                <td>{{ part.part_code }}</td>
                <td>{{ part.part_name }}</td>
                <td align="right">{{ part.part_price }}원 </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="d-flex justify-content-between">
        <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
        <nav aria-label="Page navigation">
            <ul class="pagination">
                {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.previous_page_number }}{% if query %}&q={{ query }}{% endif %}">Previous</a>
                    </li>
                {% endif %}
                {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}{% if query %}&q={{ query }}{% endif %}">Next</a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </div>
</div>

{% endblock %}
